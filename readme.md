# s21auto-dapter üê∫‚òùÔ∏è

–ê–¥–∞–ø—Ç–µ—Ä/–ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ GQL API –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã edu.21-school.ru, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é Swagger 2.
–ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å [s21auto](https://github.com/s21toolkit/s21auto) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (`internal/controller`) –∏–∑ HAR –ª–æ–≥–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∞–¥–∞–ø—Ç–µ—Ä –Ω–µ –∏–º–µ–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ç –∏–º–µ–Ω–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```sh
S21_USERNAME=example@student.21-school.ru
S21_PASSWORD=example
```

> [!IMPORTANT]
> –ì–æ—Ç–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –∞–≤—Ç–æ–∞–¥–∞–ø—Ç–µ—Ä–∞ (—Å–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º `internal/controller`) –Ω–µ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –Ω–∞ –≥–∏—Ç—Ö–∞–±–µ.
> –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ–π –¥–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [s21introspector](https://github.com/s21toolkit/s21introspector) –≤–º–µ—Å—Ç–µ —Å –ª—é–±—ã–º GQL –∫–ª–∏–µ–Ω—Ç–æ–º.
> –ï—Å–ª–∏ –∂–µ –Ω—É–∂–µ–Ω –∏–º–µ–Ω–Ω–æ –∞–≤—Ç–æ–∞–¥–∞–ø—Ç–µ—Ä, –µ–≥–æ –Ω—É–∂–Ω–æ —Å–∫–ª–æ–Ω–∏—Ç—å –∏ —Å–æ–±—Ä–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏](#–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-–º–µ—Ç–æ–¥–æ–≤) –Ω–∏–∂–µ.

## –ì–æ—Ç–æ–≤–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

–î–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏ –∞–¥–∞–ø—Ç–µ—Ä–∞ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —Ä–µ–ª–∏–∑ —Å –≥–æ—Ç–æ–≤–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π Swagger 2, —Å–º. [Releases](https://github.com/s21toolkit/s21adapter/releases).

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é

–°–±–æ—Ä–∫–∞:

```sh
make # –°–±–æ—Ä–∫–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞
make spec # –°–±–æ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

–ó–∞–ø—É—Å–∫ –∞–¥–∞–ø—Ç–µ—Ä–∞:

```sh
./s21adapter
```

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏:

```sh
./s21adapter_spec > swagger.json
```

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤

–ú–µ—Ç–æ–¥—ã –∞–¥–∞–ø—Ç–µ—Ä–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–≥–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ª–∏–±–æ —Å–ø–∏—Å–∫–∞ –º–µ—Ç–æ–¥–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–º.

–ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑ –ª–æ–≥–æ–≤ —Å –ø–æ–º–æ—â—å—é [s21auto](https://github.com/s21toolkit/s21auto):

```sh
s21auto adapter generate --har log.har -o s21adapter/internal/controller
```

> –ï—Å–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –º–µ—Ç–æ–¥—ã –Ω–µ –Ω—É–∂–Ω—ã, –∏–∑ –ø–∞–ø–∫–∏ internal/controller –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –≤—Å—ë –∫—Ä–æ–º–µ [`controller.go`](/internal/controller/controller.go)
